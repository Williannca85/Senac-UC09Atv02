
import React, {useState}  from 'react';
import {
  View,
  Text,
  SafeAreaView,
  ScrollView,
  ImageBackground,
  TextInput,
  TouchableOpacity,
} from 'react-native';
import Carousel from 'react-native-snap-carousel';
import Feather from 'react-native-vector-icons/Feather';

import BannerSlider from '../components/BannerSlider';
import {windowWidth} from '../utils/Dimensions';

/* import {freeGames, paidGames, sliderData} from '../model/data'; */
import {Promocoes, Novidades, sliderData} from '../model/data';
import CustomSwitch from '../components/CustomSwitch';
import ListItem from '../components/ListItem';


export default function HomeScreen ({navigation}){

  const [gamesTab, setGamesTab] = useState(1);

  const renderBanner = ({item, index}) => {

    return <BannerSlider data={item} />

  }

  const onSelectSwitch = value => {
      setGamesTab(value);
  };

    return (

      <SafeAreaView style={{flex:1, backgrounColor:'#ffffff'}}>
          <ScrollView style={{padding: 25}}>
           
            <View 
            style={{
              flexDirection:'row', 
              justifyContent:'space-between', 
              marginBottom:20,
              
              }}>
              <Text 
              style={{
                fontSize: 20, 
                fontFamily: 'Poppins-Medium'}}>Olá</Text>
   
              <ImageBackground 
              source={require('../../assets/images/user-profile.jpg')}
              style={{
                width: 35, 
                height: 35}}
                imageStyle={{borderRadius:25}}
                />
                
            </View>

           {/* data.js, BannerSlider.js */}
           <Carousel 
             data={sliderData} 
             renderItem={renderBanner}
             sliderWidth={windowWidth - 80}
             itemWidth={300}
             loop={true}
           /> 
           <View>
             <Text></Text>
           </View>
           
           {/*  Pesquisar Produto  */}
            <View 
            style={{
              flexDirection:'row', 
              borderColor:'#94d7eea1', 
              borderWidth: 1,
              borderRadius: 15,
              paddingHorizontal: 5,
              paddingVertical: 5,
              }}>
                <Feather 
                name="search" size={30} color={"#f9ccbaff"} style={{marginRight: 10}}/>
                <TextInput placeholder='Search' color={"#0e105cab"} />
            </View>
            

            <View style={{
              marginVertical: 15,
              flexDirection: 'row',
              justifyContent:'space-between',
              
            }}>
                <Text   
                style={{
                fontSize: 18, 
                fontFamily: 'Poppins-Medium',color:'#0e105cab' }}>
                  BaZzAaR - Moda Verão
                  </Text>
                <TouchableOpacity 
                onPress={() => {}}>
                    <Text style={{color:'#0e105cab'}}>Tudo</Text>
                </TouchableOpacity>
            </View>


          
        <View style={{marginVertical: 20}}>
          <CustomSwitch
            selectionMode={1}
            option1="Novidades"
            option2="Promoções"
            onSelectSwitch={onSelectSwitch}
            /* selectionMode={1}
            option1="Free to play"
            option2="Paid games"
            onSelectSwitch={onSelectSwitch} */

          />
        </View>
            
      {gamesTab == 1 &&
      /* freeGames.map(item => ( */
          Novidades.map(item => (
            <ListItem
              key={item.id}
              photo={item.poster}
              title={item.title}
              subTitle={item.subtitle}
              Novo={item.Novo}
              onPress={() =>
                navigation.navigate('GameDetails', {
                  title: item.title,
                  id: item.id,
                })
              }
            />
            /* <ListItem
              key={item.id}
              photo={item.poster}
              title={item.title}
              subTitle={item.subtitle}
              isFree={item.isFree}
              onPress={() =>
                navigation.navigate('GameDetails', {
                  title: item.title,
                  id: item.id,
                })
              }
            /> */
          ))} 
     {gamesTab == 2 &&
     /* paidGames.map(item => ( */
          Promocoes.map(item => (
            <ListItem
              key={item.id}
              photo={item.poster}
              title={item.title}
              subTitle={item.subtitle}
             /* Novo={item.Novo} */
              price={item.price}
              onPress={() =>
                navigation.navigate('GameDetails', {
                  title: item.title,
                  id: item.id,
                })
              }
            />
            /* <ListItem
              key={item.id}
              photo={item.poster}
              title={item.title}
              subTitle={item.subtitle}
              isFree={item.isFree}
              price={item.price}
              onPress={() =>
                navigation.navigate('GameDetails', {
                  title: item.title,
                  id: item.id,
                })
              }
            /> */
          ))}  
          </ScrollView>
      </SafeAreaView>
    );
  }
 
